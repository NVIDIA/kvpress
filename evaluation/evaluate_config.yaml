# KVPress Evaluation Configuration File
# This file contains all the configuration options for running evaluations

output_dir: "./results"

dataset: "ruler"  # see DATASET_REGISTRY in evaluate_registry.py
model: "meta-llama/Meta-Llama-3.1-8B-Instruct"  
press_name: "duo_attention"  # see PRESS_REGISTRY in evaluate_registry.py

data_dir: "4096"  # Subdirectory of the dataset (if applicable)
device: null  # Device to use (null = auto-detect, "cuda:0", "cpu", etc.)

compression_ratio: 1.0  # Compression ratio for the press (0.0 to 1.0)
key_channel_compression_ratio: 0.5  # For ThinKPress and ComposedPress (0.0 to 1.0)

fraction: 1.0  # Fraction of dataset to evaluate (0.0 to 1.0)
max_new_tokens: null  # Maximum new tokens to generate (null = use dataset default)
max_context_length: null  # Maximum context length (null = use model maximum)
compress_questions: false  # Whether to compress questions with context
